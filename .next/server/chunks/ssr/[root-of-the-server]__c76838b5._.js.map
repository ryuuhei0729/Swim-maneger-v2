{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///Users/ryuhei.hosoi/Swim-maneger-v2/src/components/providers/index.ts"],"sourcesContent":["export { AuthProvider, useAuth } from './AuthProvider'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":["file:///Users/ryuhei.hosoi/Swim-maneger-v2/src/components/auth/AuthForm.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport Link from 'next/link'\nimport { useAuth } from '@/components/providers'\n\ninterface AuthFormProps {\n  mode?: 'signin' | 'signup'\n  onSuccess?: () => void\n}\n\nexport const AuthForm: React.FC<AuthFormProps> = ({ \n  mode = 'signin', \n  onSuccess \n}) => {\n  const [formMode, setFormMode] = useState(mode)\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [name, setName] = useState('')\n  const [rememberMe, setRememberMe] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [message, setMessage] = useState<string | null>(null)\n\n  const { signIn, signUp } = useAuth()\n\n  const formatAuthError = (err: unknown, action: 'signin' | 'signup'): string => {\n    const e = err as any\n    const status = e?.status ? ` [status: ${e.status}]` : ''\n    const message = e?.message || e?.error_description || e?.error || '不明なエラーが発生しました。'\n\n    // 補足ヒント（既知パターンの説明）\n    if (typeof message === 'string') {\n      const msg = message.toLowerCase()\n      if (msg.includes('invalid') && msg.includes('email')) {\n        return `${message}${status}\\n原因の可能性: メール形式の不備、または許可ドメイン制限（Auth設定のAllowed email domains）。` \n      }\n      if (msg.includes('captcha')) {\n        return `${message}${status}\\n原因の可能性: Captchaが有効ですがトークンが未提供。AuthのCaptcha設定をご確認ください。`\n      }\n      if (msg.includes('rate limit') || e?.status === 429) {\n        return `${message}${status}\\n原因の可能性: メール送信のレート制限に達しました。時間をおいて再試行してください。`\n      }\n    }\n    return `${message}${status}`\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setLoading(true)\n    setError(null)\n    setMessage(null)\n\n    try {\n      if (formMode === 'signin') {\n        const { error } = await signIn(email, password)\n        if (error) {\n          setError(formatAuthError(error, 'signin'))\n        } else {\n          onSuccess?.()\n        }\n      } else {\n        const { error } = await signUp(email, password, name)\n        if (error) {\n          setError(formatAuthError(error, 'signup'))\n        } else {\n          setMessage('確認メールを送信しました。メールを確認してアカウントを有効化してください。')\n        }\n      }\n    } catch (error) {\n      setError('予期しないエラーが発生しました。')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"max-w-md w-full space-y-8 bg-white p-10 rounded-2xl shadow-xl transform transition-all duration-300\">\n      <div className=\"text-center\">\n        <h2 className=\"text-3xl font-extrabold text-gray-900 mb-2\">\n          {formMode === 'signin' ? 'ログイン' : 'アカウント作成'}\n        </h2>\n        <p className=\"text-sm text-gray-600\">\n          {formMode === 'signin' ? 'Swim Managerへようこそ' : '新しいアカウントを作成'}\n        </p>\n      </div>\n\n      {error && (\n        <div className=\"mb-4 p-3 bg-red-100 text-red-700 rounded\">\n          {error}\n        </div>\n      )}\n\n      {message && (\n        <div className=\"mb-4 p-3 bg-green-100 text-green-700 rounded\">\n          {message}\n        </div>\n      )}\n\n      <form onSubmit={handleSubmit} className=\"mt-8 space-y-6\">\n        <div className=\"space-y-5\">\n          {formMode === 'signup' && (\n            <div>\n              <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                名前\n              </label>\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <svg className=\"h-5 w-5 text-gray-400\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fillRule=\"evenodd\" d=\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\" clipRule=\"evenodd\" />\n                  </svg>\n                </div>\n                <input\n                  type=\"text\"\n                  id=\"name\"\n                  value={name}\n                  onChange={(e) => setName(e.target.value)}\n                  className=\"pl-10 mt-1 block w-full rounded-lg border border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3 px-3 transition duration-150 ease-in-out\"\n                  placeholder=\"山田太郎\"\n                />\n              </div>\n            </div>\n          )}\n\n          <div>\n            <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n              メールアドレス\n            </label>\n            <div className=\"relative\">\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <svg className=\"h-5 w-5 text-gray-400\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path d=\"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z\" />\n                  <path d=\"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z\" />\n                </svg>\n              </div>\n              <input\n                type=\"email\"\n                id=\"email\"\n                required\n                autoFocus\n                autoComplete=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"pl-10 mt-1 block w-full rounded-lg border border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3 px-3 transition duration-150 ease-in-out\"\n                placeholder=\"your@email.com\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n              パスワード\n            </label>\n            <div className=\"relative\">\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <svg className=\"h-5 w-5 text-gray-400\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path fillRule=\"evenodd\" d=\"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z\" clipRule=\"evenodd\" />\n                </svg>\n              </div>\n              <input\n                type=\"password\"\n                id=\"password\"\n                required\n                autoComplete={formMode === 'signin' ? 'current-password' : 'new-password'}\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"pl-10 mt-1 block w-full rounded-lg border border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3 px-3 transition duration-150 ease-in-out\"\n                placeholder=\"パスワード\"\n                minLength={6}\n              />\n            </div>\n          </div>\n        </div>\n\n        {formMode === 'signin' && (\n          <div className=\"flex items-center justify-between mt-6\">\n            <div className=\"flex items-center\">\n              <input\n                id=\"remember-me\"\n                name=\"remember-me\"\n                type=\"checkbox\"\n                checked={rememberMe}\n                onChange={(e) => setRememberMe(e.target.checked)}\n                className=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded transition duration-150 ease-in-out\"\n              />\n              <label htmlFor=\"remember-me\" className=\"ml-2 block text-sm text-gray-900\">\n                ログイン状態を保持\n              </label>\n            </div>\n          </div>\n        )}\n\n        <div className=\"mt-6\">\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transform transition duration-150 ease-in-out hover:scale-[1.02] shadow-md\"\n          >\n            {loading ? '処理中...' : formMode === 'signin' ? 'ログイン' : 'アカウント作成'}\n          </button>\n        </div>\n      </form>\n\n      <div className=\"text-center mt-6\">\n        <div className=\"space-y-2\">\n          <button\n            type=\"button\"\n            onClick={() => setFormMode(formMode === 'signin' ? 'signup' : 'signin')}\n            className=\"text-indigo-600 hover:text-indigo-800 text-sm font-medium transition duration-150 ease-in-out\"\n          >\n            {formMode === 'signin' \n              ? 'アカウントをお持ちでない方はこちら' \n              : 'すでにアカウントをお持ちの方はこちら'\n            }\n          </button>\n          {formMode === 'signin' && (\n            <div>\n              <Link\n                href=\"/reset-password\"\n                className=\"text-sm text-gray-600 hover:text-indigo-600 transition duration-150 ease-in-out\"\n              >\n                パスワードを忘れた方はこちら\n              </Link>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 486, "column": 0}, "map": {"version":3,"sources":["file:///Users/ryuhei.hosoi/Swim-maneger-v2/src/components/auth/PasswordResetForm.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { useAuth } from '@/components/providers'\n\ninterface PasswordResetFormProps {\n  onSuccess?: () => void\n}\n\nexport const PasswordResetForm: React.FC<PasswordResetFormProps> = ({ onSuccess }) => {\n  const [email, setEmail] = useState('')\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [message, setMessage] = useState<string | null>(null)\n\n  const { resetPassword } = useAuth()\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setLoading(true)\n    setError(null)\n    setMessage(null)\n\n    try {\n      const { error } = await resetPassword(email)\n      if (error) {\n        setError('パスワードリセットメールの送信に失敗しました。')\n      } else {\n        setMessage('パスワードリセット用のメールを送信しました。メールを確認してください。')\n        onSuccess?.()\n      }\n    } catch (error) {\n      setError('予期しないエラーが発生しました。')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"max-w-md w-full space-y-8 bg-white p-10 rounded-2xl shadow-xl transform transition-all duration-300\">\n      <div className=\"text-center\">\n        <h2 className=\"text-3xl font-extrabold text-gray-900 mb-2\">\n          パスワードリセット\n        </h2>\n        <p className=\"text-sm text-gray-600\">\n          メールアドレスを入力してリセット用のリンクを受け取ってください\n        </p>\n      </div>\n\n      {error && (\n        <div className=\"mb-4 p-3 bg-red-100 text-red-700 rounded\">\n          {error}\n        </div>\n      )}\n\n      {message && (\n        <div className=\"mb-4 p-3 bg-green-100 text-green-700 rounded\">\n          {message}\n        </div>\n      )}\n\n      <form onSubmit={handleSubmit} className=\"mt-8 space-y-6\">\n        <div>\n          <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n            メールアドレス\n          </label>\n          <div className=\"relative\">\n            <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n              <svg className=\"h-5 w-5 text-gray-400\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path d=\"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z\" />\n                <path d=\"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z\" />\n              </svg>\n            </div>\n            <input\n              type=\"email\"\n              id=\"email\"\n              required\n              autoFocus\n              autoComplete=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              className=\"pl-10 mt-1 block w-full rounded-lg border border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3 px-3 transition duration-150 ease-in-out\"\n              placeholder=\"your@email.com\"\n            />\n          </div>\n        </div>\n\n        <div className=\"mt-6\">\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transform transition duration-150 ease-in-out hover:scale-[1.02] shadow-md\"\n          >\n            {loading ? '送信中...' : 'リセットメールを送信'}\n          </button>\n        </div>\n      </form>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAHA;;;;AASO,MAAM,oBAAsD,CAAC,EAAE,SAAS,EAAE;IAC/E,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAEtD,MAAM,EAAE,aAAa,EAAE,GAAG,CAAA,GAAA,+IAAA,CAAA,UAAO,AAAD;IAEhC,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,WAAW;QACX,SAAS;QACT,WAAW;QAEX,IAAI;YACF,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,cAAc;YACtC,IAAI,OAAO;gBACT,SAAS;YACX,OAAO;gBACL,WAAW;gBACX;YACF;QACF,EAAE,OAAO,OAAO;YACd,SAAS;QACX,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAA6C;;;;;;kCAG3D,8OAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;YAKtC,uBACC,8OAAC;gBAAI,WAAU;0BACZ;;;;;;YAIJ,yBACC,8OAAC;gBAAI,WAAU;0BACZ;;;;;;0BAIL,8OAAC;gBAAK,UAAU;gBAAc,WAAU;;kCACtC,8OAAC;;0CACC,8OAAC;gCAAM,SAAQ;gCAAQ,WAAU;0CAA+C;;;;;;0CAGhF,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CAAI,WAAU;4CAAwB,OAAM;4CAA6B,SAAQ;4CAAY,MAAK;;8DACjG,8OAAC;oDAAK,GAAE;;;;;;8DACR,8OAAC;oDAAK,GAAE;;;;;;;;;;;;;;;;;kDAGZ,8OAAC;wCACC,MAAK;wCACL,IAAG;wCACH,QAAQ;wCACR,SAAS;wCACT,cAAa;wCACb,OAAO;wCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wCACxC,WAAU;wCACV,aAAY;;;;;;;;;;;;;;;;;;kCAKlB,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BACC,MAAK;4BACL,UAAU;4BACV,WAAU;sCAET,UAAU,WAAW;;;;;;;;;;;;;;;;;;;;;;;AAMlC","debugId":null}},
    {"offset": {"line": 678, "column": 0}, "map": {"version":3,"sources":["file:///Users/ryuhei.hosoi/Swim-maneger-v2/src/components/auth/UpdatePasswordForm.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { useAuth } from '@/components/providers'\n\ninterface UpdatePasswordFormProps {\n  onSuccess?: () => void\n}\n\nexport const UpdatePasswordForm: React.FC<UpdatePasswordFormProps> = ({ onSuccess }) => {\n  const [newPassword, setNewPassword] = useState('')\n  const [confirmPassword, setConfirmPassword] = useState('')\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [message, setMessage] = useState<string | null>(null)\n\n  const { updatePassword } = useAuth()\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setLoading(true)\n    setError(null)\n    setMessage(null)\n\n    if (newPassword !== confirmPassword) {\n      setError('パスワードが一致しません。')\n      setLoading(false)\n      return\n    }\n\n    if (newPassword.length < 6) {\n      setError('パスワードは6文字以上で入力してください。')\n      setLoading(false)\n      return\n    }\n\n    try {\n      const { error } = await updatePassword(newPassword)\n      if (error) {\n        setError('パスワードの更新に失敗しました。')\n      } else {\n        setMessage('パスワードを正常に更新しました。')\n        setNewPassword('')\n        setConfirmPassword('')\n        onSuccess?.()\n      }\n    } catch (error) {\n      setError('予期しないエラーが発生しました。')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"max-w-md mx-auto bg-white rounded-lg shadow-md p-6\">\n      <h2 className=\"text-2xl font-bold text-center mb-6\">\n        パスワード変更\n      </h2>\n\n      {error && (\n        <div className=\"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded\">\n          {error}\n        </div>\n      )}\n\n      {message && (\n        <div className=\"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded\">\n          {message}\n        </div>\n      )}\n\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        <div>\n          <label htmlFor=\"newPassword\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n            新しいパスワード\n          </label>\n          <input\n            type=\"password\"\n            id=\"newPassword\"\n            required\n            value={newPassword}\n            onChange={(e) => setNewPassword(e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"新しいパスワード\"\n            minLength={6}\n          />\n        </div>\n\n        <div>\n          <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n            パスワード確認\n          </label>\n          <input\n            type=\"password\"\n            id=\"confirmPassword\"\n            required\n            value={confirmPassword}\n            onChange={(e) => setConfirmPassword(e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"パスワード確認\"\n            minLength={6}\n          />\n        </div>\n\n        <button\n          type=\"submit\"\n          disabled={loading}\n          className=\"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          {loading ? '更新中...' : 'パスワードを更新'}\n        </button>\n      </form>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAHA;;;;AASO,MAAM,qBAAwD,CAAC,EAAE,SAAS,EAAE;IACjF,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAEtD,MAAM,EAAE,cAAc,EAAE,GAAG,CAAA,GAAA,+IAAA,CAAA,UAAO,AAAD;IAEjC,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,WAAW;QACX,SAAS;QACT,WAAW;QAEX,IAAI,gBAAgB,iBAAiB;YACnC,SAAS;YACT,WAAW;YACX;QACF;QAEA,IAAI,YAAY,MAAM,GAAG,GAAG;YAC1B,SAAS;YACT,WAAW;YACX;QACF;QAEA,IAAI;YACF,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,eAAe;YACvC,IAAI,OAAO;gBACT,SAAS;YACX,OAAO;gBACL,WAAW;gBACX,eAAe;gBACf,mBAAmB;gBACnB;YACF;QACF,EAAE,OAAO,OAAO;YACd,SAAS;QACX,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAsC;;;;;;YAInD,uBACC,8OAAC;gBAAI,WAAU;0BACZ;;;;;;YAIJ,yBACC,8OAAC;gBAAI,WAAU;0BACZ;;;;;;0BAIL,8OAAC;gBAAK,UAAU;gBAAc,WAAU;;kCACtC,8OAAC;;0CACC,8OAAC;gCAAM,SAAQ;gCAAc,WAAU;0CAA+C;;;;;;0CAGtF,8OAAC;gCACC,MAAK;gCACL,IAAG;gCACH,QAAQ;gCACR,OAAO;gCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;gCAC9C,WAAU;gCACV,aAAY;gCACZ,WAAW;;;;;;;;;;;;kCAIf,8OAAC;;0CACC,8OAAC;gCAAM,SAAQ;gCAAkB,WAAU;0CAA+C;;;;;;0CAG1F,8OAAC;gCACC,MAAK;gCACL,IAAG;gCACH,QAAQ;gCACR,OAAO;gCACP,UAAU,CAAC,IAAM,mBAAmB,EAAE,MAAM,CAAC,KAAK;gCAClD,WAAU;gCACV,aAAY;gCACZ,WAAW;;;;;;;;;;;;kCAIf,8OAAC;wBACC,MAAK;wBACL,UAAU;wBACV,WAAU;kCAET,UAAU,WAAW;;;;;;;;;;;;;;;;;;AAKhC","debugId":null}},
    {"offset": {"line": 847, "column": 0}, "map": {"version":3,"sources":["file:///Users/ryuhei.hosoi/Swim-maneger-v2/src/components/auth/AuthGuard.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { useAuth } from '@/components/providers'\n\ninterface AuthGuardProps {\n  children: React.ReactNode\n  requireAuth?: boolean\n  redirectTo?: string\n  allowedRoles?: Array<'admin' | 'manager' | 'player' | 'coach' | 'director'>\n}\n\nexport const AuthGuard: React.FC<AuthGuardProps> = ({\n  children,\n  requireAuth = true,\n  redirectTo = '/login',\n  allowedRoles\n}) => {\n  const { isAuthenticated, isLoading, profile } = useAuth()\n  const router = useRouter()\n\n  useEffect(() => {\n    if (!isLoading) {\n      if (requireAuth && !isAuthenticated) {\n        router.push(redirectTo)\n        return\n      }\n\n      if (allowedRoles && profile && !allowedRoles.includes(profile.role)) {\n        router.push('/unauthorized')\n        return\n      }\n    }\n  }, [isAuthenticated, isLoading, profile, requireAuth, allowedRoles, router, redirectTo])\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600\"></div>\n      </div>\n    )\n  }\n\n  if (requireAuth && !isAuthenticated) {\n    return null\n  }\n\n  if (allowedRoles && profile && !allowedRoles.includes(profile.role)) {\n    return null\n  }\n\n  return <>{children}</>\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAAA;AAJA;;;;;AAaO,MAAM,YAAsC,CAAC,EAClD,QAAQ,EACR,cAAc,IAAI,EAClB,aAAa,QAAQ,EACrB,YAAY,EACb;IACC,MAAM,EAAE,eAAe,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,+IAAA,CAAA,UAAO,AAAD;IACtD,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,WAAW;YACd,IAAI,eAAe,CAAC,iBAAiB;gBACnC,OAAO,IAAI,CAAC;gBACZ;YACF;YAEA,IAAI,gBAAgB,WAAW,CAAC,aAAa,QAAQ,CAAC,QAAQ,IAAI,GAAG;gBACnE,OAAO,IAAI,CAAC;gBACZ;YACF;QACF;IACF,GAAG;QAAC;QAAiB;QAAW;QAAS;QAAa;QAAc;QAAQ;KAAW;IAEvF,IAAI,WAAW;QACb,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,IAAI,eAAe,CAAC,iBAAiB;QACnC,OAAO;IACT;IAEA,IAAI,gBAAgB,WAAW,CAAC,aAAa,QAAQ,CAAC,QAAQ,IAAI,GAAG;QACnE,OAAO;IACT;IAEA,qBAAO;kBAAG;;AACZ","debugId":null}},
    {"offset": {"line": 913, "column": 0}, "map": {"version":3,"sources":["file:///Users/ryuhei.hosoi/Swim-maneger-v2/src/components/auth/index.ts"],"sourcesContent":["export { AuthForm } from './AuthForm'\nexport { PasswordResetForm } from './PasswordResetForm'\nexport { UpdatePasswordForm } from './UpdatePasswordForm'\nexport { AuthGuard } from './AuthGuard'\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA","debugId":null}},
    {"offset": {"line": 936, "column": 0}, "map": {"version":3,"sources":["file:///Users/ryuhei.hosoi/Swim-maneger-v2/src/app/%28auth%29/login/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { AuthForm } from '@/components/auth'\nimport { useAuth } from '@/components/providers'\n\nexport default function LoginPage() {\n  const { isAuthenticated, isLoading } = useAuth()\n  const router = useRouter()\n\n  useEffect(() => {\n    if (!isLoading && isAuthenticated) {\n      router.push('/dashboard')\n    }\n  }, [isAuthenticated, isLoading, router])\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600\"></div>\n      </div>\n    )\n  }\n\n  if (isAuthenticated) {\n    return null\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-blue-50 to-indigo-100\">\n      <AuthForm \n        mode=\"signin\" \n        onSuccess={() => router.push('/dashboard')}\n      />\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAAA;AACA;AAAA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,EAAE,eAAe,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,+IAAA,CAAA,UAAO,AAAD;IAC7C,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,aAAa,iBAAiB;YACjC,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAiB;QAAW;KAAO;IAEvC,IAAI,WAAW;QACb,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,IAAI,iBAAiB;QACnB,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,sIAAA,CAAA,WAAQ;YACP,MAAK;YACL,WAAW,IAAM,OAAO,IAAI,CAAC;;;;;;;;;;;AAIrC","debugId":null}}]
}